# R_Customer
# 客户细分项目

## 介绍
客户细分是无监督学习最重要的应用之一。通过聚类技术，公司可以识别出不同的客户群体，从而更好地定位潜在用户群。在这个机器学习项目中，我们将使用 K 均值聚类算法（K-means Clustering），这是处理无标签数据集的经典算法。

## 项目范围
无论何时你需要找到你的最佳客户，客户细分都是一种理想的方法。我们将实现机器学习中最关键的应用之一——客户细分。在这个项目中，我们将使用 R 语言来实现客户细分。

## 项目规范
- **R Studio 版本**: 1.2.5033

## 硬件要求
- **操作系统**: Microsoft® Windows® 7/8/10 (32-或 64-bit)
- **内存**: 3 GB 最小，推荐 8 GB
- **磁盘空间**: 至少 2 GB 可用空间
- **处理器**: i3 或以上

## 数据集
- **Mall_Customers.csv**

## 所需包
- plotrix
- purrr
- cluster
- gridExtra
- grid
- NbClust
- factoextra
- ggplot2
- dplyr

## 什么是客户细分？
客户细分是将客户群体划分为多个小组的过程，这些小组的成员在性别、年龄、兴趣和消费习惯等与营销相关的不同方面具有相似性。采用客户细分的公司认为，每位客户的需求各不相同，因此需要针对性地制定营销策略来满足他们的需求。公司的目标是更深入地了解他们正在服务的客户，因此他们的策略必须具体化，并量身定制以满足每位客户的个性化需求。

此外，通过收集的数据，公司可以更深入地了解客户的偏好，并发现能够带来最大利润的宝贵客户群体。这样一来，他们可以更高效地制定营销策略，并最大限度地降低投资风险。客户细分技术依赖于多个关键因素，这些因素将客户划分为不同的目标群体。与人口统计、地理位置、经济状况以及行为模式相关的数据，在确定公司针对不同客户群体的策略方向时起着至关重要的作用。

## 客户性别可视化
在这一部分，我们将创建一个条形图和一个饼图，以展示 `customer_data` 数据集中性别的分布情况。条形图通过矩形条的长度来表示数据，条形的长度与变量的值成正比。R 语言使用 `barplot()` 函数来创建条形图。R 可以绘制垂直和水平两种条形图。在条形图中，每个条形可以使用不同的颜色来表示。

## K 均值算法
在使用 K 均值聚类算法时，第一步是指定我们希望最终输出的簇的数量（k）。算法首先从数据集中随机选择 k 个对象，这些对象将作为我们簇的初始中心。这些被选中的对象称为簇均值，也称为质心。然后，剩余的每个对象会被分配到距离最近的质心。这个质心是通过对象与簇均值之间的欧几里得距离来定义的。我们将这一步骤称为“簇分配”。

当分配完成后，算法会继续计算数据中每个簇的新均值。在重新计算质心后，算法会检查每个观测值是否更接近其他簇。使用更新后的簇均值，对象会进行重新分配。这个过程会通过多次迭代重复进行，直到簇分配不再发生变化。当前迭代中的簇与上一次迭代中得到的簇完全相同。

### 总结 K 均值聚类
1. **指定簇的数量**: 我们需要指定要创建的簇的数量（k）。
2. **随机选择初始质心**: 算法从数据集中随机选择 k 个对象，这些对象作为初始簇或均值。
3. **分配新观测值**: 根据对象与质心之间的欧几里得距离，将新观测值分配到最近的质心。
4. **更新质心**: 通过计算簇中所有数据点的新均值，更新数据点中的 k 个簇的质心。第 k 个簇的质心是一个长度为 p 的向量，其中包含第 k 个簇中所有观测值的变量均值。我们用 p 表示变量的数量。
5. **迭代最小化**: 通过迭代最小化簇内平方和。

然后，通过迭代最小化总平方和，当达到最大迭代次数时，分配过程将停止波动。R 软件默认的最大迭代次数为 10。我们针对多个不同的 k 值计算聚类算法。这可以通过将 k 从 1 到 10 进行变化来实现。然后，我们计算每个 k 值对应的簇内平方和（Total Intra-cluster Sum of Squares, ISS）。接着，我们根据 k 值的数量绘制 ISS 的图表。该图表可以帮助我们确定模型中所需的最佳簇的数量。在图表中，拐点（或称为“膝盖点”）的位置即表示最佳的簇数量。

## 使用前两个主成分可视化聚类结果
折线图（也称为线图、曲线图）是一种图表类型，它通过一系列称为“标记点”的数据点连接而成的直线段来展示信息。这是一种在许多领域中常见的基础图表类型。由于其广泛的应用，折线图在描述数值随时间变化的趋势时非常有用。我们将使用 `ggplot` 来绘制折线图。
